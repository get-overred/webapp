import{s as Ue,d as _,l as qe,a as J,i as H,b as o,o as ne,p as h,c as p,e as w,v as Q,g as y,f as C,h as m,j as I,t as N,J as Re,z as Se,w as Qe,n as X,r as Xe,K as Me}from"../chunks/DweVjaGk.js";import{S as Ae,i as Je,t as x,a as M,g as ie,c as oe,d as ke,m as De,e as Ee,b as $e}from"../chunks/BA73HWMz.js";import{e as ce}from"../chunks/-gASlQSi.js";import{S as Ye,I as Ze}from"../chunks/P5QdOz_y.js";import{J as et,s as je}from"../chunks/CxOWflRw.js";import{g as tt}from"../chunks/CKoKYkkT.js";const lt=!0,gt=Object.freeze(Object.defineProperty({__proto__:null,prerender:lt},Symbol.toStringTag,{value:"Module"})),st=""+new URL("../assets/overred_og.Gbt4o3ka.png",import.meta.url).href;function xe(n,e,l){const t=n.slice();return t[3]=e[l],t[5]=l,t}function He(n){let e,l;return e=new Ye({props:{base64:n[3].base64,targetData:n[3].target_data,id:`preview_${n[5]}`,target_bg_color:"rgba(255, 255, 255, 0.8)",target_border_radius:"4",target_no_fillout:!0,target_replace_cursor:!0,target_enable_arrow:!0,image_border_radius:"8",image_size_perc:"100",border:"1px solid #e5e7eb",target_scale_factor:"1",targetBlob:n[3].blob_target,targetBlobWithBorder:n[3].blob_target_b}}),{c(){$e(e.$$.fragment)},l(t){Ee(e.$$.fragment,t)},m(t,r){De(e,t,r),l=!0},p(t,r){const s={};r&1&&(s.base64=t[3].base64),r&1&&(s.targetData=t[3].target_data),r&1&&(s.targetBlob=t[3].blob_target),r&1&&(s.targetBlobWithBorder=t[3].blob_target_b),e.$set(s)},i(t){l||(M(e.$$.fragment,t),l=!0)},o(t){x(e.$$.fragment,t),l=!1},d(t){ke(e,t)}}}function Be(n){let e,l=n[3].descrb+"",t;return{c(){e=m("p"),t=N(l),this.h()},l(r){e=p(r,"P",{class:!0});var s=w(e);t=C(s,l),s.forEach(_),this.h()},h(){h(e,"class","mt-4 text-gray-700 text-lg")},m(r,s){H(r,e,s),o(e,t)},p(r,s){s&1&&l!==(l=r[3].descrb+"")&&J(t,l)},d(r){r&&_(e)}}}function Ce(n){let e,l,t,r,s=n[3].base64&&He(n),a=n[3].descrb&&Be(n);return{c(){e=m("div"),s&&s.c(),l=I(),a&&a.c(),t=I(),this.h()},l(c){e=p(c,"DIV",{class:!0});var i=w(e);s&&s.l(i),l=y(i),a&&a.l(i),t=y(i),i.forEach(_),this.h()},h(){h(e,"class","w-full max-w-4xl")},m(c,i){H(c,e,i),s&&s.m(e,null),o(e,l),a&&a.m(e,null),o(e,t),r=!0},p(c,i){c[3].base64?s?(s.p(c,i),i&1&&M(s,1)):(s=He(c),s.c(),M(s,1),s.m(e,l)):s&&(ie(),x(s,1,1,()=>{s=null}),oe()),c[3].descrb?a?a.p(c,i):(a=Be(c),a.c(),a.m(e,t)):a&&(a.d(1),a=null)},i(c){r||(M(s),r=!0)},o(c){x(s),r=!1},d(c){c&&_(e),s&&s.d(),a&&a.d()}}}function rt(n){let e,l,t,r='<i class="fas fa-times"></i>',s,a,c,i=n[0].title+"",d,f,u,k,L,D,$=ce(n[0].steps),b=[];for(let v=0;v<$.length;v+=1)b[v]=Ce(xe(n,$,v));const Y=v=>x(b[v],1,1,()=>{b[v]=null});return{c(){e=m("div"),l=m("div"),t=m("button"),t.innerHTML=r,s=I(),a=m("div"),c=m("h1"),d=N(i),f=I(),u=m("div");for(let v=0;v<b.length;v+=1)b[v].c();this.h()},l(v){e=p(v,"DIV",{class:!0});var E=w(e);l=p(E,"DIV",{class:!0});var g=w(l);t=p(g,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-18dnpva"&&(t.innerHTML=r),s=y(g),a=p(g,"DIV",{class:!0});var j=w(a);c=p(j,"H1",{class:!0});var B=w(c);d=C(B,i),B.forEach(_),f=y(j),u=p(j,"DIV",{class:!0});var G=w(u);for(let P=0;P<b.length;P+=1)b[P].l(G);G.forEach(_),j.forEach(_),g.forEach(_),E.forEach(_),this.h()},h(){h(t,"class","absolute top-4 right-4 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-full w-8 h-8 flex items-center justify-center transition-colors z-10"),h(c,"class","text-3xl font-bold mb-8 text-center"),h(u,"class","flex flex-col items-center space-y-8"),h(a,"class","w-full h-full overflow-y-auto p-8"),h(l,"class","bg-white rounded-lg shadow-xl w-[90vw] h-[90vh] relative overflow-hidden"),h(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50")},m(v,E){H(v,e,E),o(e,l),o(l,t),o(l,s),o(l,a),o(a,c),o(c,d),o(a,f),o(a,u);for(let g=0;g<b.length;g+=1)b[g]&&b[g].m(u,null);k=!0,L||(D=ne(t,"click",n[1]),L=!0)},p(v,[E]){if((!k||E&1)&&i!==(i=v[0].title+"")&&J(d,i),E&1){$=ce(v[0].steps);let g;for(g=0;g<$.length;g+=1){const j=xe(v,$,g);b[g]?(b[g].p(j,E),M(b[g],1)):(b[g]=Ce(j),b[g].c(),M(b[g],1),b[g].m(u,null))}for(ie(),g=$.length;g<b.length;g+=1)Y(g);oe()}},i(v){if(!k){for(let E=0;E<$.length;E+=1)M(b[E]);k=!0}},o(v){b=b.filter(Boolean);for(let E=0;E<b.length;E+=1)x(b[E]);k=!1},d(v){v&&_(e),qe(b,v),L=!1,D()}}}function at(n,e,l){let{flow:t}=e;const r=Re();function s(){r("close")}return n.$$set=a=>{"flow"in a&&l(0,t=a.flow)},[t,s]}class nt extends Ae{constructor(e){super(),Je(this,e,at,rt,Ue,{flow:0})}}function Ne(n,e,l){const t=n.slice();return t[11]=e[l],t[13]=l,t}function Pe(n){let e,l;return e=new nt({props:{flow:n[3]}}),e.$on("close",n[5]),{c(){$e(e.$$.fragment)},l(t){Ee(e.$$.fragment,t)},m(t,r){De(e,t,r),l=!0},p(t,r){const s={};r&8&&(s.flow=t[3]),e.$set(s)},i(t){l||(M(e.$$.fragment,t),l=!0)},o(t){x(e.$$.fragment,t),l=!1},d(t){ke(e,t)}}}function it(n){let e,l,t;return l=new et({props:{size:"500",color:"#FF3E00",unit:"px",duration:"1s"}}),{c(){e=m("div"),$e(l.$$.fragment),this.h()},l(r){e=p(r,"DIV",{class:!0});var s=w(e);Ee(l.$$.fragment,s),s.forEach(_),this.h()},h(){h(e,"class","w-full min-h-screen flex justify-center items-center")},m(r,s){H(r,e,s),De(l,e,null),t=!0},p:X,i(r){t||(M(l.$$.fragment,r),t=!0)},o(r){x(l.$$.fragment,r),t=!1},d(r){r&&_(e),ke(l)}}}function ot(n){let e,l='<h1 class="font-bold text-5xl text-[#FF3E00]">Our Extension isn&#39;t installed</h1>';return{c(){e=m("div"),e.innerHTML=l,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-103m1v4"&&(e.innerHTML=l),this.h()},h(){h(e,"class","w-full min-h-screen flex justify-center items-center")},m(t,r){H(t,e,r)},p:X,i:X,o:X,d(t){t&&_(e)}}}function ct(n){let e,l,t=`<img src="${st}" alt="logo" class="h-64 w-auto object-contain"/>`,r,s,a,c=ce(n[2]),i=[];for(let d=0;d<c.length;d+=1)i[d]=Oe(Ne(n,c,d));return{c(){e=m("div"),l=m("div"),l.innerHTML=t,r=I(),s=m("div"),a=m("div");for(let d=0;d<i.length;d+=1)i[d].c();this.h()},l(d){e=p(d,"DIV",{class:!0});var f=w(e);l=p(f,"DIV",{class:!0,"data-svelte-h":!0}),Q(l)!=="svelte-zrwwfq"&&(l.innerHTML=t),r=y(f),s=p(f,"DIV",{class:!0});var u=w(s);a=p(u,"DIV",{class:!0});var k=w(a);for(let L=0;L<i.length;L+=1)i[L].l(k);k.forEach(_),u.forEach(_),f.forEach(_),this.h()},h(){h(l,"class","flex justify-center items-center py-4"),h(a,"class","flex flex-wrap justify-center"),h(s,"class","container mx-auto px-5 pb-12"),h(e,"class","w-full min-h-screen flex flex-col")},m(d,f){H(d,e,f),o(e,l),o(e,r),o(e,s),o(s,a);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(a,null)},p(d,f){if(f&28){c=ce(d[2]);let u;for(u=0;u<c.length;u+=1){const k=Ne(d,c,u);i[u]?i[u].p(k,f):(i[u]=Oe(k),i[u].c(),i[u].m(a,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=c.length}},i:X,o:X,d(d){d&&_(e),qe(i,d)}}}function ze(n){let e,l,t;return{c(){e=m("img"),this.h()},l(r){e=p(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Me(e.src,l=n[11].steps[0].base64)||h(e,"src",l),h(e,"alt",t=n[11].title),h(e,"class","w-full h-48 object-cover")},m(r,s){H(r,e,s)},p(r,s){s&4&&!Me(e.src,l=r[11].steps[0].base64)&&h(e,"src",l),s&4&&t!==(t=r[11].title)&&h(e,"alt",t)},d(r){r&&_(e)}}}function Fe(n){let e,l,t,r,s=n[11].steps[0].descrb+"",a;return{c(){e=m("div"),l=m("i"),t=I(),r=m("span"),a=N(s),this.h()},l(c){e=p(c,"DIV",{class:!0});var i=w(e);l=p(i,"I",{class:!0}),w(l).forEach(_),t=y(i),r=p(i,"SPAN",{class:!0});var d=w(r);a=C(d,s),d.forEach(_),i.forEach(_),this.h()},h(){h(l,"class","fas fa-info-circle w-5"),h(r,"class","ml-2 truncate"),h(e,"class","flex items-center text-gray-600")},m(c,i){H(c,e,i),o(e,l),o(e,t),o(e,r),o(r,a)},p(c,i){i&4&&s!==(s=c[11].steps[0].descrb+"")&&J(a,s)},d(c){c&&_(e)}}}function Oe(n){let e,l,t,r,s=n[11].steps.length+"",a,c,i,d,f='<i class="fas fa-trash"></i>',u,k,L,D,$=n[11].title+"",b,Y,v,E,g,j,B,G,P=new Date(n[11].date_create).toLocaleDateString()+"",te,fe,z,Z,ue,q,de,ee=new Date(n[11].date_edit).toLocaleDateString()+"",le,he,_e,F,O,ye='<i class="fas fa-pen mr-2"></i>Launch Editor',ve,U,Ie='<i class="fas fa-eye mr-2"></i>Preview',pe,me,Te,T=n[11].steps[0]?.base64&&ze(n);function Ge(){return n[6](n[13])}let V=n[11].steps[0]?.descrb&&Fe(n);function We(){return n[7](n[13])}function Ke(){return n[8](n[11])}return{c(){e=m("div"),l=m("div"),T&&T.c(),t=I(),r=m("div"),a=N(s),c=N(" steps"),i=I(),d=m("button"),d.innerHTML=f,u=I(),k=m("div"),L=m("div"),D=m("h3"),b=N($),Y=I(),v=m("div"),E=m("div"),g=m("i"),j=I(),B=m("span"),G=N("Created: "),te=N(P),fe=I(),z=m("div"),Z=m("i"),ue=I(),q=m("span"),de=N("Last updated: "),le=N(ee),he=I(),V&&V.c(),_e=I(),F=m("div"),O=m("button"),O.innerHTML=ye,ve=I(),U=m("button"),U.innerHTML=Ie,pe=I(),this.h()},l(A){e=p(A,"DIV",{class:!0});var S=w(e);l=p(S,"DIV",{class:!0});var W=w(l);T&&T.l(W),t=y(W),r=p(W,"DIV",{class:!0});var be=w(r);a=C(be,s),c=C(be," steps"),be.forEach(_),i=y(W),d=p(W,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(d)!=="svelte-qdwnzr"&&(d.innerHTML=f),W.forEach(_),u=y(S),k=p(S,"DIV",{class:!0});var K=w(k);L=p(K,"DIV",{class:!0});var Ve=w(L);D=p(Ve,"H3",{class:!0});var Le=w(D);b=C(Le,$),Le.forEach(_),Ve.forEach(_),Y=y(K),v=p(K,"DIV",{class:!0});var R=w(v);E=p(R,"DIV",{class:!0});var se=w(E);g=p(se,"I",{class:!0}),w(g).forEach(_),j=y(se),B=p(se,"SPAN",{class:!0});var ge=w(B);G=C(ge,"Created: "),te=C(ge,P),ge.forEach(_),se.forEach(_),fe=y(R),z=p(R,"DIV",{class:!0});var re=w(z);Z=p(re,"I",{class:!0}),w(Z).forEach(_),ue=y(re),q=p(re,"SPAN",{class:!0});var we=w(q);de=C(we,"Last updated: "),le=C(we,ee),we.forEach(_),re.forEach(_),he=y(R),V&&V.l(R),R.forEach(_),_e=y(K),F=p(K,"DIV",{class:!0});var ae=w(F);O=p(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(O)!=="svelte-mohevo"&&(O.innerHTML=ye),ve=y(ae),U=p(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(U)!=="svelte-15nbolt"&&(U.innerHTML=Ie),ae.forEach(_),K.forEach(_),pe=y(S),S.forEach(_),this.h()},h(){h(r,"class","absolute top-2 left-2 bg-blue-500 text-white px-2.5 py-1 rounded-full text-sm font-bold"),h(d,"class","absolute top-2 right-2 bg-red-500 text-white w-8 h-8 flex items-center justify-center rounded-full hover:bg-red-600 transition-colors"),h(l,"class","relative"),h(D,"class","text-2xl font-bold text-gray-800"),h(L,"class","mb-4"),h(g,"class","fas fa-calendar-alt w-5"),h(B,"class","ml-2"),h(E,"class","flex items-center text-gray-600"),h(Z,"class","fas fa-clock w-5"),h(q,"class","ml-2"),h(z,"class","flex items-center text-gray-600"),h(v,"class","space-y-3 mb-6"),h(O,"class","flex-1 bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center"),h(U,"class","bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center"),h(F,"class","flex space-x-3"),h(k,"class","p-6"),h(e,"class","bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300 w-[555px] m-10")},m(A,S){H(A,e,S),o(e,l),T&&T.m(l,null),o(l,t),o(l,r),o(r,a),o(r,c),o(l,i),o(l,d),o(e,u),o(e,k),o(k,L),o(L,D),o(D,b),o(k,Y),o(k,v),o(v,E),o(E,g),o(E,j),o(E,B),o(B,G),o(B,te),o(v,fe),o(v,z),o(z,Z),o(z,ue),o(z,q),o(q,de),o(q,le),o(v,he),V&&V.m(v,null),o(k,_e),o(k,F),o(F,O),o(F,ve),o(F,U),o(e,pe),me||(Te=[ne(d,"click",Ge),ne(O,"click",We),ne(U,"click",Ke)],me=!0)},p(A,S){n=A,n[11].steps[0]?.base64?T?T.p(n,S):(T=ze(n),T.c(),T.m(l,t)):T&&(T.d(1),T=null),S&4&&s!==(s=n[11].steps.length+"")&&J(a,s),S&4&&$!==($=n[11].title+"")&&J(b,$),S&4&&P!==(P=new Date(n[11].date_create).toLocaleDateString()+"")&&J(te,P),S&4&&ee!==(ee=new Date(n[11].date_edit).toLocaleDateString()+"")&&J(le,ee),n[11].steps[0]?.descrb?V?V.p(n,S):(V=Fe(n),V.c(),V.m(v,null)):V&&(V.d(1),V=null)},d(A){A&&_(e),T&&T.d(),V&&V.d(),me=!1,Xe(Te)}}}function ft(n){let e,l,t,r,s,a=n[3]&&Pe(n);const c=[ct,ot,it],i=[];function d(f,u){return f[2]&&f[0]?0:f[1]?1:2}return l=d(n),t=i[l]=c[l](n),{c(){a&&a.c(),e=I(),t.c(),r=Se()},l(f){a&&a.l(f),e=y(f),t.l(f),r=Se()},m(f,u){a&&a.m(f,u),H(f,e,u),i[l].m(f,u),H(f,r,u),s=!0},p(f,[u]){f[3]?a?(a.p(f,u),u&8&&M(a,1)):(a=Pe(f),a.c(),M(a,1),a.m(e.parentNode,e)):a&&(ie(),x(a,1,1,()=>{a=null}),oe());let k=l;l=d(f),l===k?i[l].p(f,u):(ie(),x(i[k],1,1,()=>{i[k]=null}),oe(),t=i[l],t?t.p(f,u):(t=i[l]=c[l](f),t.c()),M(t,1),t.m(r.parentNode,r))},i(f){s||(M(a),M(t),s=!0)},o(f){x(a),x(t),s=!1},d(f){f&&(_(e),_(r)),a&&a.d(f),i[l].d(f)}}}function ut(n,e,l){let t=!1,r=!1,s=null,a=null;Qe(()=>c());async function c(){try{const D=await chrome.runtime.sendMessage(Ze,{action:"webapp_transfer"});if(console.log(D),D.flow){const $=JSON.parse(D.flow);$ instanceof Array&&(l(2,s=$),l(0,t=!0))}}catch(D){l(1,r=!0),console.log(D)}}async function i(D){s&&(s.splice(D,1),await d(s))}async function d(D){je.auth.getSession().then(async({data:$})=>{if(!$.session)return;const{error:b}=await je.from("profiles").update({flows:D}).eq("id",$.session?.user.id).select();b&&console.error("Error updating flows in Supabase:",b)})}function f(){l(3,a=null)}return[t,r,s,a,i,f,D=>i(D),D=>tt(`/${D}`),D=>{l(3,a=D)}]}class wt extends Ae{constructor(e){super(),Je(this,e,ut,ft,Ue,{})}}export{wt as component,gt as universal};
